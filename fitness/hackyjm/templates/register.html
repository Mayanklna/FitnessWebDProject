<!DOCTYPE html>
{% load static %}
<html lang="en">
<title>IIT Roorkee</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
	integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous" />
<script src="{% static 'master.js' %}"></script>
<link rel="stylesheet" href="{% static 'master.css' %}" />

<style>
	body {
		background-image: url('/static/images/backimage.jpg');
		background-repeat: no-repeat;
		background-size: cover;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: "Lato", sans-serif;
	}

	.w3-bar,
	h1,
	button {
		font-family: "Montserrat", sans-serif;
	}

	.fa-anchor,
	.fa-coffee {
		font-size: 200px;
	}

	ul li {
		list-style: none;
		display: inline-block;
		margin-left: 10px
	}
</style>

<body>
	<div class="w3-top">
		<div class="w3-bar w3-purple w3-card w3-left-align w3-large">
			<a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-purple"
				href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i
					class="fa fa-bars w3-purple"></i></a>
			<a href="{% url 'users:home' %}" class="w3-bar-item w3-button w3-padding-large"
				style="text-decoration:none;">
				Home</a>

			{% if user.is_authenticated %}


			<a href="{% url 'users:logout' %}"
				class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white w3-right"
				style="text-decoration: none;">Logout</a>
			{% else %}
			<a href="{% url 'users:login' %}"
				class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white w3-right"
				style="text-decoration: none;">Login</a>
			<a href="{% url 'users:register' %}"
				class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white w3-right"
				style="text-decoration: none;">Registration</a>
			{% endif %}
		</div>

		<!-- Navbar on small screens -->
		<div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
			<a href="{% url 'users:home' %}" class="w3-bar-item w3-button w3-padding-large"
			style="text-decoration: none;">Home</a>

			{% if user.is_authenticated %}

			<a href="{% url 'users:logout' %}" class="w3-bar-item w3-button w3-padding-large w3-right"
				style="text-decoration: none;">Logout</a>
			{% else %}
			<a href="{% url 'users:login' %}" class="w3-bar-item w3-button w3-padding-large w3-right"
				style="text-decoration: none;">Login</a>
			<a href="{% url 'users:register' %}" class="w3-bar-item w3-button w3-padding-large w3-right"
				style="text-decoration: none;">Register</a>
			{% endif %}

		</div>
	</div>

	<header class="w3-container w3-center w3-margin-top" style=" padding: 128px 16px;">
		<div class="d-flex justify-content-center">
			<div class="user_card">
				<div class="d-flex justify-content-center">
					<h3 id="form-title" style="font-weight: bold;">REGISTRATION</h3>
				</div>
				<div class="d-flex justify-content-center form_container w3-margin-top">

					<form method="POST" action="">
						{% csrf_token %}
						<div class="input-group mb-3" style="z-index: 0;">
							<div class="input-group-append">
								<span class="input-group-text"><i class="fas fa-user"></i></span>
							</div>
							{{form.username}}
						</div>
						<div class="input-group mb-3">
							<div class="input-group-append">
								<span class="input-group-text"><i class="fas fa-user"></i></span>
							</div>
							{{form.first_name}}
						</div>
						<div class="input-group mb-3">
							<div class="input-group-append">
								<span class="input-group-text"><i class="fas fa-user"></i></span>
							</div>
							{{form.last_name}}
						</div>
						<div class="input-group mb-3">
							<div class="input-group-append">
								<span class="input-group-text"><i class="fas fa-envelope-square"></i></span>
							</div>
							{{form.email}}
						</div>
						<div class="input-group mb-3">
							<div class="input-group-append">
								<span class="input-group-text"><i class="fas fa-key"></i></span>
							</div>
							{{form.password1}}
						</div>
						<div class="input-group mb-3">
							<div class="input-group-append">
								<span class="input-group-text"><i class="fas fa-key"></i></span>
							</div>
							{{form.password2}}
						</div>

						<div class="d-flex justify-content-center mt-3 login_container">
							<input class="btn login_btn btn-half" type="submit" value="Register Account">
						</div>
					</form>
				</div>
				{{form.errors}}
				<div class="mt-4">
					<div class="d-flex justify-content-center links">
						Already have an account? <a href="{% url 'users:login' %}" class="ml-2">Login</a>
					</div>
				</div>
			</div>

		</div>

  <!-- modal-->

		<script>
			/* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
				//We start indexing at one because CSRF_token is considered and input field
				 */

			//Query All input fields
			var form_fields = document.getElementsByTagName('input')
			form_fields[1].placeholder = 'Username';
			form_fields[2].placeholder = 'First Name';
			form_fields[3].placeholder = 'Last Name';
			form_fields[4].placeholder = 'Email';
			form_fields[5].placeholder = 'Enter password';
			form_fields[6].placeholder = 'Re-enter Password';
			form_fields[7].placeholder = 'Contact Number';
			form_fields[11].placeholder = 'Affiliation';
			const x = document.getElementById('id_position')
			let op = document.createElement('option')
			op.value = ""
			op.disabled = true
			op.hidden = true
			op.text = "Position"
			op.selected = true
			op.style.color = 'gray'
			x.add(op, x[0])
			form_fields[7].inlineLabels
			form_fields[8].remove()
			form_fields[8].classList.add('w3-radio')
			form_fields[9].classList.add('w3-radio')
			for (var field in form_fields) {
				form_fields[field].className += ' form-control'
			}
		</script>

		<script>
			// Used to toggle the menu on small screens when clicking on the menu button
			function myFunction() {
				var x = document.getElementById("navDemo");
				if (x.className.indexOf("w3-show") == -1) {
					x.className += " w3-show";
				} else {
					x.className = x.className.replace(" w3-show", "");
				}
			}
		</script>
	</header>
</body>
</html>